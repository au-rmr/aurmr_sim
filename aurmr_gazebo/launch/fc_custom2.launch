<launch>

    <!-- Pod pose range in centimeters -->
    <arg name="x_start" default="60"/>
    <arg name="x_stop" default="65"/>
    <arg name="x_step" default="5"/>
    <arg name="y_start" default="41"/>
    <arg name="y_stop" default="46"/>
    <arg name="y_step" default="5"/>

    <for each="x" start="$(arg x_start)" end="$(arg x_stop)" step="$(arg x_step)">
        <arg name="pod_x" default="$(eval $(arg x) / 100)"/>

        <for each="y" start="$(arg y_start)" end="$(arg y_stop)" step="$(arg y_step)">
            <arg name="pod_y" default="$(eval $(arg y) / 100)"/>

            <include file="$(find aurmr_gazebo)/launch/fc.launch">
                <arg name="pod_x" default="$(arg pod_x)"/>
                <arg name="pod_y" default="$(arg pod_y)"/>
                <!-- Prevent Gazebo from opening GUI, and the simulation will start automatically -->
                <arg name="gui" default="false"/>
            </include>

            <node pkg="$(find aurmr_tahoma)/aurmr_tasks/scripts" type="analyze_workspace" name="analyze_workspace" output="screen">
                <param name="pod_x" value="$(arg pod_x)"/>
                <param name="pod_y" value="$(arg pod_y)"/>
            </node>

            <!-- Define a node to kill the launched nodes -->
            <node name="kill_nodes" pkg="rosnode" type="rosnode" args="kill --all"/>

        </for>

    </for>

</launch>

<!-- WARNING: unrecognized tag for -->